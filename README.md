# ä»‹ç»

ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œå¹³æ—¶ç”¨æ¥åšä¸€äº›è‡ªåŠ¨åŒ–çš„æ“ä½œ æˆ–è€…ç”Ÿæˆä¸€ä¸ªé€šç”¨çš„é¡¹ç›® åç»­æ…¢æ…¢æ·»åŠ å¥½ç”¨çš„åŠŸèƒ½ï¼ŒæŒç»­æ›´æ–°ä¸­

# ç”¨å‰å¿…çœ‹

è®¾è®¡æœ¬è„šæ‰‹æ¶çš„åˆè¡·æ˜¯ä¸ºäº†çœå»é‡å¤ä¸”æ— èŠçš„æ­¥éª¤(å…¶å®å°±æ˜¯æƒ³å·æ‡’ ğŸ˜)ï¼Œè„šæ‰‹æ¶ä¸­çš„ä¸€äº›å‘½ä»¤æ˜¯ä¸ºäº†é…åˆåŠ¨æ€è·¯ç”±è€Œè®¾è®¡çš„ï¼Œå½“ç„¶ä½ å¯ä»¥é€‰æ‹©ç›´æ¥ä½¿ç”¨è„šæ‰‹æ¶ç”Ÿæˆä¸€ä¸ªé¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®å·²ç»åŒ…å«äº†åŠ¨æ€è·¯ç”±ç›¸å…³çš„ï¼›å¦‚æœä½ æ˜¯æƒ³æŠ±ç€ç»ƒä¹ çš„æ€åº¦ä½ å®Œå…¨å¯ä»¥ä½¿ç”¨è¿™äº›å‘½ä»¤ï¼Œè¿™æ ·ä¼šè®©ä½ åŠ æ·±å¯¹åŠ¨æ€è·¯ç”±çš„è®¤è¯†ï¼Œæœ¬å¥— cms çš„è®¾è®¡æ€æƒ³å¦‚ä¸‹(è¿™é‡Œæä¸€å˜´ï¼Œæ¯ä¸ªäººçš„æ€æƒ³å’Œæ¶æ„æ˜¯ä¸åŒçš„ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å»æŠµè§¦ï¼Œé€‰å–æœ‰ç”¨çš„å­¦ä¹ å°±è¡Œäº†ï¼Œæ­£æ‰€è°“å¤šæ¡æ€è·¯ä¸æ˜¯å¤šä¸ªåŠæ³•å—ï½)

- æ‰€æœ‰æ–‡ä»¶å¤¹éƒ½é‡‡ç”¨ä¸€ä¸€å¯¹åº”çš„è®¾è®¡æ¨¡å¼

- `è·¯ç”±`ï¼Œæ¯ä¸ªè·¯ç”±å¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹å¯¹åº”å½“å‰è·¯ç”±çš„è·¯ç”±å¯¹è±¡

  - è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ï¼Œå› ä¸ºæ¯ä¸ªè·¯ç”±éƒ½ä½¿ç”¨çš„æ‡’åŠ è½½çš„æ–¹å¼ï¼Œåç«¯å¾€æ•°æ®åº“ä¸­å­˜å‡½æ•°ï¼Œå¯èƒ½ä¸å¤ªå‹å¥½(å½“ç„¶è‚¯å®šæœ‰åˆ«çš„åŠæ³•ï¼Œé‚£ä¹ˆå°±çœ‹åç«¯æ„¿ä¸æ„¿æ„äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä¸æ±‚äººï¼Œè‡ªå·±æå®š)ï¼Œé‚£ä¹ˆè¿™æ ·ä¸€æ¥ï¼Œåç«¯å°±åªéœ€è¦å­˜å­—ç¬¦ä¸²äº†ï¼Œé‚£ä¹ˆä¹… so easy å•¦
  - é‚£ä¹ˆæ€ä¹ˆå°†æ¯ä¸ªè·¯ç”±å¯¹è±¡å–å‡ºå‘¢,çœ‹ä»¥ä¸‹ä»£ç 
  - ```javascript
    // è¯»å–router/mainä¸‹é¢çš„æ‰€æœ‰tsæ–‡ä»¶ï¼Œæ‹¿åˆ°è·¯ç”±å¯¹è±¡ï¼Œæ”¾åˆ°localRoutesæ•°ç»„é‡Œ
    const files: Record<string, any> = import.meta.glob(
      '../router/main/**/*.ts',
      {
        eager: true,
      }
    )
    // ä¸Šé¢ä¼šæ‹¿åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åéå†å³å¯
    for (const file in files) {
      const module = files[file]
      console.log(module.default)
      localRoutes.push(module.default)
    }
    ```

* ä¸‹é¢çš„æ–‡ä»¶å¤¹ç»“æ„å°±æ˜¯ä¸Šé¢æ‰€è¯´çš„ä¸€ä¸€å¯¹åº”å…³ç³»
  - è¿™æ ·åšçš„å¥½å¤„æ˜¯åœ¨è®¾è®¡è‡ªåŠ¨åŒ–æ“ä½œçš„æ—¶å€™ä¼šå¾ˆæ–¹ä¾¿
  - å› ä¸ºæ‰€è°“çš„è‡ªåŠ¨åŒ–æ“ä½œå…¶å®å°±æ˜¯æ‰¾è§„å¾‹ï¼Œå› ä¸ºè¿™æ ·çš„æ–‡ä»¶æ¶æ„æ˜¯æœ‰è§„å¾‹çš„ï¼Œæ–‡ä»¶éƒ½ä¸€ä¸€å¯¹åº”ï¼Œæ‰€ä»¥æ‰å¯ä»¥åšè‡ªåŠ¨åŒ–æ“ä½œ
  - å¯ä»¥çœ‹åˆ° routerã€service(ç½‘ç»œè¯·æ±‚æ–‡ä»¶å¤¹)ã€storeã€views ä¹‹é—´çš„å…³ç³»éƒ½æ˜¯ä¸€ä¸€å¯¹åº”çš„
  - main æ–‡ä»¶å¤¹å°±æ˜¯åµŒå¥—è·¯ç”±çš„çˆ¶è·¯ç”±

```shell
src
â”œâ”€ App.vue
â”œâ”€ assets
â”‚    â””â”€ logo.svg
â”œâ”€ components
â”œâ”€ main.ts
â”œâ”€ router
â”‚    â”œâ”€ index.ts
â”‚    â””â”€ main
â”‚           â”œâ”€ product
â”‚           â”‚    â””â”€ goods
â”‚           â”‚           â””â”€ goods.ts
â”‚           â””â”€ story
â”‚                  â”œâ”€ chat
â”‚                  â”‚    â””â”€ chat.ts
â”‚                  â””â”€ list
â”‚                         â””â”€ list.ts
â”œâ”€ service
â”‚    â”œâ”€ index.ts
â”‚    â”œâ”€ main
â”‚    â”‚    â”œâ”€ main.ts
â”‚    â”‚    â”œâ”€ product
â”‚    â”‚    â”‚    â””â”€ goods
â”‚    â”‚    â”‚           â””â”€ goods.ts
â”‚    â”‚    â””â”€ story
â”‚    â”‚           â”œâ”€ chart
â”‚    â”‚           â”‚    â””â”€ chart.ts
â”‚    â”‚           â””â”€ list
â”‚    â”‚                  â””â”€ list.ts
â”‚    â””â”€ request
â”‚           â”œâ”€ index.ts
â”‚           â””â”€ types.ts
â”œâ”€ store
â”‚    â”œâ”€ index.ts
â”‚    â””â”€ main
â”‚           â”œâ”€ main.ts
â”‚           â”œâ”€ product
â”‚           â”‚    â””â”€ goods
â”‚           â”‚           â””â”€ goods.ts
â”‚           â””â”€ story
â”‚                  â”œâ”€ chart
â”‚                  â”‚    â””â”€ chart.ts
â”‚                  â””â”€ list
â”‚                         â””â”€ list.ts
â””â”€ views
       â””â”€ main
              â”œâ”€ main.ts
              â”œâ”€ product
              â”‚    â””â”€ goods
              â”‚           â””â”€ goods.ts
              â””â”€ story
                     â”œâ”€ chart
                     â”‚    â””â”€ chart.ts
                     â””â”€ list
                            â””â”€ list.ts
```

# è‡ªåŠ¨ç”Ÿæˆ vue component

## ä½¿ç”¨åœºæ™¯

å¦‚æœæˆ‘ä»¬éœ€è¦å¤§é‡ç”Ÿæˆé‡å¤çš„ç»„ä»¶ï¼Œä¸è¦æ¯ä¸ªéƒ½æ‰‹å†™ï¼ˆæ˜¯å¯ä»¥ copyï¼Œä½†æ˜¯é‡Œé¢çš„åç§°è¿˜è¦æ‰‹åŠ¨çš„æ›´æ”¹ï¼Œå¥½éº»çƒ¦å“¦ï¼‰
æ¯”å¦‚æˆ‘ä»¬åœ¨åˆ›å»ºä¸€ä¸ªåå°é¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰å¤šå°‘ä¸ªèœå•å°±è¦åˆ›å»ºå¤šå°‘ä¸ª vue æ–‡ä»¶ã€‚ã€‚ã€‚

## ä½¿ç”¨æ–¹æ³•

**ä¸ç”¨æ‹…å¿ƒæ–‡ä»¶å¤¹ä¸å­˜åœ¨å“¦ å¦‚æœä¸å­˜åœ¨çš„è¯ä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºçš„**
**é»˜è®¤æƒ…å†µä¸‹åˆ›å»ºçš„æ˜¯ VUE3 çš„ç»„ä»¶**

- ä¸è·Ÿåœ°å€çš„æƒ…å†µä¸‹ä¼šåœ¨ `./src/components` ä¸‹åˆ›å»ºå½“å‰ç»„ä»¶

```shell
  #  NavBar æ˜¯ç»„ä»¶åç§°
  ymcli addcpn cpnname
  eg: ymcli addcpn NavBar
```

- æŒ‡å®šæ–‡ä»¶å¤¹

```shell
  #  NavBar æ˜¯ç»„ä»¶åç§°
  ymcli addcpn cpnname --dest url
  eg: ymcli addcpn NavBar --dest ./src/views/home
```

- åˆ›å»º VUE3+TS çš„ç»„ä»¶

```shell
ymcli addcpn cpnname  type --dest ./src/views/home
eg: ymcli addcpn NavBar  v3t --dest ./src/views/home
```

## type æœ‰å“ªäº›

| ç±»å‹ | è§£é‡Š                         |
| ---- | ---------------------------- |
| v3   | é»˜è®¤å€¼ï¼Œåˆ›å»ºä¸€ä¸ª vue3 çš„æ¨¡ç‰ˆ |
| v2   | åˆ›å»ºä¸€ä¸ª vu2 çš„æ¨¡ç‰ˆ          |
| v3t  | åˆ›å»ºä¸€ä¸ª vue3+ts çš„æ¨¡ç‰ˆ      |

# è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª route æ–‡ä»¶

## ä»‹ç»

è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª route æ–‡ä»¶ï¼Œå¹¶ä¸”ä¼šç”Ÿæˆè¯¥ route å¯¹åº”çš„ vue æ–‡ä»¶

## ä½¿ç”¨åœºæ™¯

- å½“æˆ‘ä»¬éœ€è¦åŠ¨æ€çš„æ³¨å†Œè·¯ç”±çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨åˆ°è¯¥å‘½ä»¤
- router.js æ–‡ä»¶æ˜¯è·¯ç”±çš„å…¶ä¸­ä¸€ä¸ªé…ç½®ï¼›
- å¯ä»¥ä½¿ç”¨ glob è¯­æ³•æ¥è¯»å– router ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œè¿™æ ·å°±ä¸ç”¨æ‰‹åŠ¨çš„å¯¼å…¥ route è·¯å¾„

## ä½¿ç”¨æ–¹æ³•

- åˆ›å»º VUE3 ç»„ä»¶

```shell
  #  NavBar æ˜¯ç»„ä»¶åç§°
  ymcli addroutefile routefilename --dest url
  eg: ymcli addroutefile demo --dest ./src/router/demo
```

- åˆ›å»º VUE3+TS çš„ç»„ä»¶

```shell
  ymcli addroutefile routefilename type --dest url
  eg: ymcli addroutefile demo  v3t --dest ./src/router/demo
```

# è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª dialog ç»„ä»¶

## ä»‹ç»

åˆ›å»ºä¸€ä¸ªåŸºäº ElementUI çš„ Vue2 Dialog ç»„ä»¶

## ä½¿ç”¨æ–¹æ³•

```shell
ymcli adddialog name --dest url
eg: ymcli adddialog ymDialog --dest ./src/views/home
```

# æ ¹æ®æ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„ route å¯¹è±¡å’Œè¯¥ route å¯¹åº”çš„ vue ç»„ä»¶

## ä»‹ç»

ä¼šæ ¹æ® js/ts æ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„ route å¯¹è±¡å’Œè¯¥ route å¯¹åº”çš„ vue ç»„ä»¶,`æ³¨æ„å¯¼å‡ºçš„æ—¶å€™è¦ä½¿ç”¨commonjsçš„å¯¼å‡ºæ–¹å¼`

## ä½¿ç”¨æ–¹æ³•

```shell
ymcli addroutecpns filepath type
# filepathï¼šæ–‡ä»¶åœ°å€  typeï¼šç±»å‹è§ä¸Šé¢çš„typeè¡¨æ ¼
eg: ymcli adddialog ./index.ts v3t
```

## ç”Ÿæˆè·¯ç”±æ–‡ä»¶ç¤ºä¾‹

```javascript
// name å’Œ dest æ˜¯å¿…è¦çš„
// titleæ˜¯éå¿…è¦çš„ï¼Œtitleçš„ä½œç”¨æ˜¯è®©è‡ªå·±å¯ä»¥çŸ¥é“æ¨¡å—å«å•¥æ–¹ä¾¿è‡ªå·±é˜…è¯»
module.exports = [
  {
    name: 'login', // ç”Ÿæˆçš„æ–‡ä»¶åç§°
    dest: 'src/views/login', // ç”Ÿæˆåˆ°æ‹¿ä¸ªæ–‡ä»¶å¤¹
  },
  {
    name: 'main',
    dest: 'src/views/main',
  },
  {
    title: 'æ¨¡å‹é”¤ç‚¼',
    name: 'modelTemperingInfo',
    dest: 'src/views/main/modelManager/modelTemperingInfo',
  },
]
```
